{% comment %}
Testimonial Block Template

Available variables:
- block: The block object with all its properties
- block.get_settings: JSON settings for this block including:
  - title: Optional section title
  - background_color: Background color setting
  - testimonials: Array of testimonials
{% endcomment %}

{% with settings=block.get_settings %}
<div id="block-{{ block.id }}" class="block block-testimonial {% if block.css_class %}{{ block.css_class }}{% endif %}" 
     {% if block.get_style %}style="{{ block.get_style }}"{% endif %}>
    
    <div class="container py-5">
        {% if settings.title %}
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h2 class="section-title">{{ settings.title }}</h2>
                {% if settings.subtitle %}
                <p class="section-subtitle">{{ settings.subtitle }}</p>
                {% endif %}
            </div>
        </div>
        {% endif %}
        
        <div class="row justify-content-center">
            {% for testimonial in settings.testimonials %}
            <div class="col-md-4 mb-4">
                <div class="testimonial-card h-100 p-4 shadow-sm rounded">
                    {% if testimonial.image %}
                    <div class="testimonial-image mb-3 text-center">
                        <img src="{{ testimonial.image }}" alt="{{ testimonial.name }}" class="rounded-circle" style="width: 80px; height: 80px; object-fit: cover;">
                    </div>
                    {% endif %}
                    
                    <div class="testimonial-quote mb-3">
                        <i class="fas fa-quote-left text-muted me-2"></i>
                        {{ testimonial.quote }}
                        <i class="fas fa-quote-right text-muted ms-2"></i>
                    </div>
                    
                    <div class="testimonial-author text-end">
                        <strong>{{ testimonial.name }}</strong>
                        {% if testimonial.title %}
                        <div class="text-muted small">{{ testimonial.title }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endwith %}